(this.webpackJsonpdaily_expense2=this.webpackJsonpdaily_expense2||[]).push([[0],{22:function(e,t,a){},28:function(e,t,a){e.exports=a(45)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),s=a.n(c),o=(a(33),a(34),a(22),a(3)),i=a(4),l=a(6),u=a(5),m=a(14),d=a(7),h=(a(35),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={username:"",password:"",error:""},e.handlePassChange=e.handlePassChange.bind(Object(m.a)(e)),e.handleUserChange=e.handleUserChange.bind(Object(m.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(m.a)(e)),e.dismissError=e.dismissError.bind(Object(m.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"dismissError",value:function(){this.setState({error:""})}},{key:"handleSubmit",value:function(e){return e.preventDefault(),this.state.username?this.state.password?this.setState({error:""}):this.setState({error:"Password is required"}):this.setState({error:"Username is required"})}},{key:"handleUserChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:this.handleSubmit},this.state.error&&r.a.createElement("h3",{"data-test":"error",onClick:this.dismissError},r.a.createElement("button",{onClick:this.dismissError},"\u2716"),this.state.error),r.a.createElement("label",null,"User Name"),r.a.createElement("input",{type:"text","data-test":"username",value:this.state.username,onChange:this.handleUserChange}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password","data-test":"password",value:this.state.password,onChange:this.handlePassChange}),r.a.createElement("input",{type:"submit",value:"Log In","data-test":"submit"})))}}]),t}(r.a.Component)),p=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"Daily Expense"))}}]),t}(r.a.Component),g=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("h2",null,"Footer"))}}]),t}(r.a.Component),f=a(8),E=a(9),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSelected=function(e){for(var t=a.state.numSelectedRecords,n=0;n<a.state.data.length;n++)if(e===a.state.data[n].id){var r=a.state.data;return r[n].isSelected=!r[n].isSelected,r[n].isSelected?t++:t--,a.setState({numSelectedRecords:t,data:r}),void a.props.onToggleSelect(t)}},a.handleSort=function(e){switch(e){case"Amount":a.state.data.sort((function(e,t){return a.state.ascending?e.amount-t.amount:t.amount-e.amount}));break;case"Item":a.state.data.sort((function(e,t){var n=e.description.toUpperCase(),r=t.description.toUpperCase(),c=0;return n>r?c=a.state.ascending?1:-1:n<r&&(c=a.state.ascending?-1:1),c}));break;case"Comment":a.state.data.sort((function(e,t){var n=e.comments.toUpperCase(),r=t.comments.toUpperCase(),c=0;return n>r?c=a.state.ascending?1:-1:n<r&&(c=a.state.ascending?-1:1),c}));break;case"Category":a.state.data.sort((function(e,t){var n=e.categoryName.toUpperCase(),r=t.categoryName.toUpperCase(),c=0;return n>r?c=a.state.ascending?1:-1:n<r&&(c=a.state.ascending?-1:1),c}));break;case"Date":a.state.data.sort((function(e,t){var n=new Date(e.dateTime),r=new Date(t.dateTime),c=0;return n>r?c=a.state.ascending?1:-1:n<r&&(c=a.state.ascending?-1:1),c}))}a.setState({sortingColumn:e,ascending:!a.state.ascending})},a.state={ascending:!0,data:[],storageKey:"expenseList",numSelectedRecords:0,sortingColumn:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.data.map((function(t){var a=new Date(t.dateTime);return r.a.createElement("tr",{key:t.id,onClick:function(){return e.handleSelected(t.id)}},r.a.createElement("td",null,"".concat(a.getFullYear(),"-").concat(a.getMonth()>9?"":"0").concat(a.getMonth()+1,"-").concat(a.getDate()>10?"":"0").concat(a.getDate())),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.amount),r.a.createElement("td",null,t.categoryName),r.a.createElement("td",null,t.comments),t.isSelected?r.a.createElement("td",null,r.a.createElement(f.a,{icon:E.b})):r.a.createElement("td",null))}));return r.a.createElement("div",{className:"expense-list"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return e.handleSort("Date")}},"Date"," ","Date"===this.state.sortingColumn&&(this.state.ascending?r.a.createElement(f.a,{icon:E.a}):r.a.createElement(f.a,{className:"faCaretDown",icon:E.a}))),r.a.createElement("th",{onClick:function(){return e.handleSort("Item")}},"Item"," ","Item"===this.state.sortingColumn&&(this.state.ascending?r.a.createElement(f.a,{icon:E.a}):r.a.createElement(f.a,{className:"faCaretDown",icon:E.a}))),r.a.createElement("th",{onClick:function(){return e.handleSort("Amount")}},"Amount"," ","Amount"===this.state.sortingColumn&&(this.state.ascending?r.a.createElement(f.a,{icon:E.a}):r.a.createElement(f.a,{className:"faCaretDown",icon:E.a}))),r.a.createElement("th",{onClick:function(){return e.handleSort("Category")}},"Category"," ","Category"===this.state.sortingColumn&&(this.state.ascending?r.a.createElement(f.a,{icon:E.a}):r.a.createElement(f.a,{className:"faCaretDown",icon:E.a}))),r.a.createElement("th",{onClick:function(){return e.handleSort("Comment")}},"Comment"," ","Comment"===this.state.sortingColumn&&(this.state.ascending?r.a.createElement(f.a,{icon:E.a}):r.a.createElement(f.a,{className:"faCaretDown",icon:E.a}))),r.a.createElement("th",{className:"Table-th"}))),r.a.createElement("tbody",null,t)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{data:e.data}}}]),t}(r.a.Component),b="https://lvaw1qhhfi.execute-api.us-east-1.amazonaws.com/Prod/api/",C={getAllExpense:function(){return fetch(b+"Expense")},getCategories:function(){return fetch(b+"Expense/Categories")},filterExpense:function(e){return fetch(b+"Expense/filter",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteExpense:function(e){return fetch(b+"Expense/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},addNew:function(e){return fetch(b+"Expense",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleApplyFilter=function(){C.filterExpense(a.state.filterObj).then((function(e){return e.json()})).then((function(e){a.props.onApplyFilter(e)}))},a.handleInputChange=function(e){var t=a.state.filterObj;switch(e.target.id){case"start-date":t.startDate=e.target.value;break;case"end-date":t.endDate=e.target.value;break;case"min-amount":t.minAmount=e.target.value;break;case"max-amount":t.maxAmount=e.target.value}},a.state={filterObj:{startDate:"",endDate:"",catigoryIDs:[],minAmount:0,maxAmount:99999}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"grid-item filter"},r.a.createElement("div",{className:"filter-date-range"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"start-date"},"From"),r.a.createElement("input",{id:"start-date",className:"form-control",type:"date",onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"end-date"},"To"),r.a.createElement("input",{id:"end-date",className:"form-control",type:"date",onChange:this.handleInputChange}))),r.a.createElement("div",{className:"filter-categories"}),r.a.createElement("div",{className:"filter-amount-range"},r.a.createElement("p",null,"Amount"),r.a.createElement("input",{type:"text",id:"min-amount",onChange:this.handleInputChange}),r.a.createElement("span",null,"To"),r.a.createElement("input",{type:"text",id:"max-amount",onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"button",value:"Apply Filter",className:"btn-apply-filter",onClick:this.handleApplyFilter})))}}]),t}(r.a.Component),S=(a(41),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSubmitForm=function(){var e=a.state.newRecord;""===e.Amount||""===e.Description?a.setState({isError:!0}):(e.CategoryName=document.getElementById("category").value,a.setState({newRecord:e}),a.props.onAddNewRecord(a.state.newRecord),document.getElementById("expense-form").reset())},a.handleInputChange=function(e){var t=a.state.newRecord;"date"===e.target.id?t.DateTime=e.target.value:"category"===e.target.id?t.CategoryName=e.target.value:"item-name"===e.target.id?t.Description=e.target.value:"amount"===e.target.id?t.Amount=e.target.value:"comments"===e.target.id&&(t.Comments=e.target.value),a.setState({newRecord:t})},a.state={newRecord:{Id:0,DateTime:"",Description:"",Amount:"",CategoryName:"",Comments:""},category:[],isError:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.getCategories().then((function(e){return e.json()})).then((function(t){e.setState({category:t})}))}},{key:"render",value:function(){console.log("render");var e=this.state.category.map((function(e){return r.a.createElement("option",null,e.categoryName)}));return r.a.createElement("div",{className:"expense-form"},r.a.createElement("form",{id:"expense-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"date",className:"form-control",type:"date",onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{id:"category",className:"form-control",onChange:this.handleInputChange},e)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"item-name",className:"form-control",type:"text",placeholder:"Item Name",onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"amount",className:"form-control",type:"number",placeholder:"Amount",onChange:this.handleInputChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:"comments",className:"form-control",type:"text",placeholder:"Comments",onChange:this.handleInputChange})),r.a.createElement("div",null,r.a.createElement("input",{className:"btn-add-expense",type:"button",value:"Submit",onClick:this.onSubmitForm}))))}}]),t}(r.a.Component)),j=(a(42),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onQuickSearch=function(e){var t=e.target.value.toUpperCase(),n=a.state.data.filter((function(e){return e.description.toUpperCase().indexOf(t)>=0||e.amount.toString().indexOf(t)>=0||e.categoryName.toUpperCase().indexOf(t)>=0}));a.props.onQuickSearch(n),console.log("search done")},a.state={data:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"quick-search"},r.a.createElement("input",{type:"text",onChange:function(t){return e.onQuickSearch(t)}}),r.a.createElement(f.a,{icon:E.c,className:"search-icon"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{data:e.data}}}]),t}(r.a.Component)),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={numSelectedRecords:0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"delete-records"},r.a.createElement("input",{type:"button",onClick:this.props.onDelete,value:"Delete ".concat(this.state.numSelectedRecords," Records")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{numSelectedRecords:e.numSelectedRecords}}}]),t}(r.a.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleDelete=function(){var e=a.state.expenseList.filter((function(e){return e.isSelected})).map((function(e){return e.id}));C.deleteExpense(e).then((function(e){return e.json()})).then((function(e){C.getAllExpense().then((function(e){return e.json()})).then((function(e){var t=a.addFlagToList(e);a.setState({expenseList:t,quickSearchResult:t})}))}))},a.handleQuickSearch=function(e){a.setState({quickSearchResult:e})},a.addFlagToList=function(e){return e.map((function(e){return e.isSelected=!1,e}))},a.handleFilterResult=function(e){var t=a.addFlagToList(e);a.setState({expenseList:t,quickSearchResult:t})},a.handleAddNewRecord=function(e){C.addNew(e).then((function(e){return e.json()})).then((function(e){e.isSelected=!1;var t=a.state.expenseList;t.push(e),a.setState({expenseList:t,quickSearchResult:t})}))},a.handleToggleSelect=function(e){a.setState({numSelectedRecords:e})},a.state={expenseList:[],quickSearchResult:[],numSelectedRecords:0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.getAllExpense().then((function(e){return e.json()})).then((function(t){var a=e.addFlagToList(t);e.setState({expenseList:a,quickSearchResult:a})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement("div",null,r.a.createElement(j,{data:this.state.expenseList,onQuickSearch:this.handleQuickSearch}),r.a.createElement(y,{onApplyFilter:this.handleFilterResult})),r.a.createElement("div",null,r.a.createElement(S,{onAddNewRecord:this.handleAddNewRecord}),r.a.createElement(O,{onDelete:this.handleDelete,numSelectedRecords:this.state.numSelectedRecords}),r.a.createElement(v,{data:this.state.quickSearchResult,onToggleSelect:this.handleToggleSelect})))}}]),t}(r.a.Component),N=a(25),x=a(13);var w=function(){return r.a.createElement(N.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/DailyExpense2/",exact:!0,component:h}),r.a.createElement(x.a,{path:"/DailyExpense2/expense",component:k})),r.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.5aa8644b.chunk.js.map